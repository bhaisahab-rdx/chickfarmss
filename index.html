<!DOCTYPE html>
<html lang="en">
  <head>
    <style data-vite-theme="" data-inject-first="">:root {
      --background: 22 81% 73%;
--foreground: 15 100% 8%;
--muted: 24 77% 57%;
--muted-foreground: 15 100% 8%;
--popover: 21 100% 97%;
--popover-foreground: 15 100% 8%;
--card: 21 100% 97%;
--card-foreground: 15 100% 8%;
--border: 24 77% 57%;
--input: 24 77% 57%;
--primary: 30 100% 46%;
--primary-foreground: 21 100% 99%;
--secondary: 22 100% 79%;
--secondary-foreground: 15 100% 8%;
--accent: 22 100% 79%;
--accent-foreground: 15 100% 8%;
--destructive: 0 84.2% 60.2%;
--destructive-foreground: 60 9.1% 97.8%;
--ring: 30 100% 46%;
--radius: 1.2rem;
  }
  .dark {
      --background: 358 100% 0%;
--foreground: 22 100% 93%;
--muted: 28 100% 21%;
--muted-foreground: 22 100% 93%;
--popover: 15 100% 8%;
--popover-foreground: 22 100% 93%;
--card: 15 100% 8%;
--card-foreground: 22 100% 93%;
--border: 28 100% 21%;
--input: 28 100% 21%;
--primary: 30 100% 37%;
--primary-foreground: 21 91% 98%;
--secondary: 28 100% 21%;
--secondary-foreground: 22 100% 93%;
--accent: 28 100% 21%;
--accent-foreground: 22 100% 93%;
--destructive: 0 62.8% 30.6%;
--destructive-foreground: 0 0% 98%;
--ring: 30 100% 37%;
--radius: 1.2rem;
  }</style>

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="mobile-web-app-capable" content="yes" />
    <title>ChickFarms</title>
    <!-- Fallback for when the app doesn't load properly -->
    <style>
      #loading {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 100vh;
        margin: 0;
        font-family: 'Arial', sans-serif;
      }
      .loader {
        border: 5px solid #f3f3f3;
        border-top: 5px solid #f8931f; /* ChickFarms orange */
        border-radius: 50%;
        width: 50px;
        height: 50px;
        animation: spin 1s linear infinite;
        margin-bottom: 20px;
      }
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
      .fallback-message {
        display: none;
        margin-top: 20px;
        text-align: center;
        padding: 20px;
        max-width: 500px;
      }
    </style>
    <script>
      // Attempt to load the main app dynamically
      window.addEventListener('DOMContentLoaded', function() {
        // Try to locate assets from various possible locations
        function tryLoadApp() {
          // Show loading state
          document.getElementById('root').innerHTML = `
            <div id="loading">
              <div class="loader"></div>
              <h2>Loading ChickFarms...</h2>
              <div id="fallback-message" class="fallback-message"></div>
            </div>
          `;

          // Potential asset paths to try
          const potentialPaths = [
            '/assets/',
            '/dist/public/assets/',
            '/public/assets/'
          ];
          
          // Try to detect assets by checking for common file patterns
          potentialPaths.forEach(function(basePath) {
            fetch(basePath)
              .then(response => {
                if (response.ok || response.status === 404) {
                  // Even a 404 response means the server is responsive
                  return fetch(`${window.location.origin}/api/health`)
                    .then(apiResponse => {
                      if (apiResponse.ok) {
                        // If API is available, suggest direct path
                        loadMainApp('/');
                      }
                    });
                }
              })
              .catch(err => {
                console.error('Asset detection error:', err);
              });
          });

          // After 5 seconds, show instructions if app hasn't loaded
          setTimeout(function() {
            if (document.getElementById('fallback-message')) {
              document.getElementById('fallback-message').style.display = 'block';
              document.getElementById('fallback-message').innerHTML = `
                <p>If the application doesn't load automatically, please try:</p>
                <ul style="text-align: left;">
                  <li>Accessing <a href="/">the root URL</a> directly</li>
                  <li>Clearing your browser cache and refreshing</li>
                  <li>Checking the API status at <a href="/api/health">/api/health</a></li>
                </ul>
              `;
            }
          }, 5000);
        }

        function loadMainApp(basePath) {
          // Redirect to the proper path
          window.location.href = basePath;
        }

        tryLoadApp();
      });
    </script>
  </head>
  <body>
    <div id="root"></div>
    <noscript>
      <div style="text-align: center; padding: 20px;">
        <h2>JavaScript Required</h2>
        <p>ChickFarms requires JavaScript to be enabled in your browser.</p>
      </div>
    </noscript>
  </body>
</html>